
@{
    ViewBag.Title = "Index";
}
<div class="panel panel-primary">
    <div class="panel-heading">
        <h2 class="text-center">List Officer</h2>
    </div>
    <div class="panel-body">
        <div id="idListOfficer">

        </div>
    </div>
</div>

<!-- Modal untuk create data-->

<div id="idModalCreateDataOfficer" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Modal title</h4>
            </div>
            <div id="idModalBodyCreateDataOfficer" class="modal-body">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button id="idButtonSaveOfficer" type="button" class="btn btn-primary">Save</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div id="idModalUpdateDataOfficer" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Modal title</h4>
            </div>
            <div id="idModalBodyUpdateDataOfficer" class="modal-body">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button id="idButtonUpdateOfficer" type="button" class="btn btn-primary">Save</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

    <script>
        $(document).ready(function () {
            //alert("Hello dari javascript");
            $.ajax({
                url: '/Ajax/GetListOfficer',
                type: 'GET',
                success: function (model) {
                    $('#idListOfficer').html(model);
                },
                error: function (model) {
                    debugger;
                }
            });
        });
        $('#idButtonSaveOfficer').click(function () {
            debugger;
            var vFormOfficer = $('#idFormOfficer').serialize();
            $.ajax({
                url: '/Officer/Create',
                type: 'POST',
                data: vFormOfficer,
                success: function (model) {
                    debugger;
                    if (model.pesan = "Sukses") {
                        alert("Data Berhasil Disimpan");
                        $('#idModalCreateDataOfficer').modal("hide");
                        window.location.href = "/Officer/Index"; //reload halaman index ke officer
                    }
                    else {
                        alert("Data Gagal Disimpan");
                    }
                },
            });
        });

        $('#idButtonUpdateOfficer').click(function () {
            debugger;
            var vFormEditOfficer = $('#IdFormEditOfficer').serialize();
            $.ajax({
                url: '/Officer/Update',
                type: 'POST',
                data: vFormEditOfficer,
                success: function (model) {
                    debugger;
                    if (model.pesan = "Sukses") {
                        alert("Data Berhasil Diubah");
                        $('#idModalUpdateDataOfficer').modal("hide");
                        window.location.href = "/Officer/Index"; //reload halaman index ke officer
                    }
                    else {
                        alert("Data Gagal Disimpan");
                    }
                },
            });
        });


    </script>
